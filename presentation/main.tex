\documentclass{f1rstlady/templates/presentation}
\setbeamersize{text margin left=1em,text margin right=1em} % Widen the text area

% Include a topic with \includetopic[<file>]{<topic>}.  <file> defaults to `content`.
\newcommand*{\includetopic}[2][content]{
    \def\thistopic{#2}
    \input{#2/#1.tex}
    \def\thistopic{.}
}

% Source code integration
\usepackage{f1rstlady/sourcecode}
\lstset{
    language = [LaTeX]{TeX},
    keywordstyle = \color{Green4}
}

% Show examples of LaTeX code with \example{<file>}, where <file> is relative to this file's base
% directory.  The starred variant \example* also executes the example.
\makeatletter
\newcommand*{\example@showonly}[1]{
    \lstinputlisting
        [ style = context
        , basicstyle = \small\ttfamily
        , caption = {}
        ]{\thistopic/#1}
}
\newcommand*{\example@showandexecute}[1]{
    \begin{description}
        \item[Input:]  \lstinputlisting{\thistopic/#1}
        \item[Output:] \input{\thistopic/#1}
    \end{description}
}
\renewcommand*{\example}{
    \@ifstar
        \example@showandexecute
        \example@showonly
}
\makeatother

% Put code inline with \code
\newcommand*{\code}[1]{\lstinline{#1}}

\includetopic[preamble]{what_and_why}
\includetopic[preamble]{workflow}
\includetopic[preamble]{bibliography}
\includetopic[preamble]{macros/math}

\title{\LaTeX~Workshop}
\author{Benedikt Rips}
\institute{\LaTeX~Universität}
\date{\today}

\begin{document}

\frame[plain]{\titlepage}

\AtBeginSection[]{
    \begin{frame}
        \tableofcontents[currentsection, sectionstyle=show/shaded]
    \end{frame}}

\includetopic{what_and_why}

\section{Einführung}

\includetopic{minimal_example}
\includetopic{rough_structure}
\includetopic{spaces_lines_paragraphs}
\includetopic{comments}
\includetopic{workflow}
\includetopic{sectioning}
\includetopic{lists}
\includetopic{math/basics}
\includetopic{math/theorems_and_proofs}

\section{Übung}

\includetopic{exercise}
\includetopic{help}

\section{Weiteres}

\includetopic{bibliography}
\includetopic{references}
\includetopic{macros/basics}
\includetopic{macros/math}

\end{document}
